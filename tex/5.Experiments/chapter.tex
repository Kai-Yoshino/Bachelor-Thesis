\expandafter\ifx\csname MasterFile\endcsname\relax
\def\SubFile{hoge}
\input{../thesis/thesis}
\begin{document}
\setcounter{chapter}{4}
\fi
%-------------------------------------------------------------------------------
\cleardoublepage
\chapter{評価実験}

\label{exp:chapter}

\section{序言}
\label{exp:introduction}
本章では，COLLAGREEで行われた議論のデータを対象にした提案手法の評価実験について述べる．評価実験では同じテーマのもと行われた複数の議論を用意し，提案手法の有用性を示す．%提案手法は\ref{}で述べた手法を用い，比較手法は\ref{}で述べた関連研究を用いる．
以下に本章の構成を述べる．
\clearpage
\section{対象データ}
\label{exp:data}
\subsection{議論データ}
\label{exp:data:discussion}
議論データはCOLLAGREE上で行われた別の実験での議論のものを使用する．データの概要を以下に示す．
\\
\noindent{\bf【実験概要】}
\begin{description}
\item [グループ人数]：2$\sim$3名
\item [議論時間]：90分前後
\item [議論テーマ]：外国人観光客向けの日本旅行プランの決定
\item [議論テーマ説明文]：みなさまに、外国人観光客向けの日本旅行プランを立てていただきます。 想定される旅行者の条件は以下の通りです。
\begin{itemize}
\item 英語は話せるが、日本語は話せない
\item 初めての日本旅行である
\item 日程は6泊7日
\item ホテルは自分たちで手配できる
\item 旅行のために貯金したので、金銭的には余裕があり、国内をいろいろとまわることが可能である
\item 来日、帰国の際の空港は、どこでもかまわない
\item ２つのプランを比較したいと考えている（プランは２つ用意してください）
\end{itemize}
\item [ファシリテータ]：あり
\end{description}

\subsection{評価データ}
\label{exp:data:evaluation}
 \ref{exp:data:discussion}節で説明した議論データに対し，次に述べる基準でアノテーションを行ってもらった．基準を満たすと思われる発言に"1"のタグを，満たすと思われない発言に"0"のタグを付ける．
\subsubsection*{\circled{1} それまで話題となっていた対象や事態とは異なる，新しい対象や事態への言及する発言}
話されている内容が，以前と全く異なる対象や事態へと移行する位置でデータを区切る．
\paragraph{例1:}\ \\
(今までの話題:パック旅行はなぜ安いのかについて)
\begin{itemize}
\item A:ホテルが宿泊費の一部を出しているから安いのかな？
\item B:おそらく。
\item A:なるほど。
\item B:\underline{沖縄行きも安いね。}(今まで沖縄の話はされておらず，この後“沖縄行きのパック旅行”に話題が変わる(かもしれない))
\end{itemize}
\paragraph{例2:}\ \\
(今までの話題:外国人のツアー旅行の行き先について)
\begin{itemize}
\item A:\underline{他は寄らなくてもよいですか？}(新しい行き先が出るように仕向けている)
\end{itemize}

 \subsubsection*{\circled{2} 既に言及された対象や事態の異なる側面への言及する発言}
既に話題として取り上げられることについて，以前とは異なる側面から言及がなされる位置で区切る．
\paragraph{例3:}\ \\
(今までの話題:外国人のツアー旅行の行き先について)
\begin{itemize}
\item A:広島、長崎はどう？
\item B:外国人観光客とか広島、長崎で見かけた覚えないな。
\item A:\underline{ツアーに英語を話せるスタッフとか付けられるかな？}(“ツアー旅行のスタッフ”に話題が変わる(かもしれない))
\end{itemize}

 \subsubsection*{\circled{3}議論のフェーズを移行させる(かもしれない)発言}
議論のフェーズを今までから移行させる(と思われる)発言の位置で区切る．
\paragraph{例4:}\ \\
(今までの話題:外国人のツアー旅行の行き先について)
\begin{itemize}
\item A:八坂神社や清水寺など有名どころがたくさんありますし、魅力的だと思います
\item B:\ulinej{京都周辺ツアー 清水寺、金閣寺、銀閣寺、伏見稲荷大社、嵐山、など日本の建物や食べ物など広島長崎ツアー 広島、長崎の戦争の地を見る事と、それぞれの場所で食べ物建造物を見るツアー}(地名を挙げる段階から，各地点を結ぶツアープランへの作成段階に話題が変わる(かもしれない)．)
\end{itemize}

\paragraph{例5:}\ \\
(今までの話題:外国人のツアー旅行のプランについて)
\begin{itemize}
\item A:京都周辺ツアー
 清水寺、清水焼体験、抹茶・和菓子など体験、きもの体験、金閣寺、嵐山、伏見稲荷大社
 その中で乗れそうなら屋形船などはどうでしょうか?
\item B:屋形船、風情があって良いと思います。
\item (途中省略)
\item C: \ulinej{まとめると、
 ・京都周辺ツアー
 京都周辺（八坂神社、清水寺、金閣寺、銀閣寺、伏見稲荷大社、嵐山、有馬温泉）、おいしい料理（豆腐など）、温泉、6泊7日ツアー}
 \\
 \ulinej{
 ・広島長崎ツアー
 広島（3日）：広島の原爆ドーム、平和記念公園、厳島神社、もみじまんじゅう、牡蠣、広島の筆（メイクや書道なので使用する）、お好み焼き、呉の戦艦、アナゴ
 （移動1日）
 長崎（3日）：ハウステンボス、グラバー園、眼鏡橋、大浦天主堂、軍艦島、長崎ちゃんぽん、佐世保バーガー}
 \\
 \ulinej{
 この2プランで問題ないでしょうか？}(初めて，２つのツアーの内容をまとめ，議論の収束に近づけた．)
 \end{itemize}
また，ファシリテーターによる議論をコントロールするような発言も含む．
\paragraph{例6:}\ \\
\begin{itemize}
\item F:もし現在の旅先候補でよろしければ、具体的なプランづくりに移行したいと思います。
 よろしいでしょうか？
\item F:残り20分を切りました。
 皆様、いかがでしょうか？
\end{itemize}
以上の基準に沿ってタグを付けてもらい，"1"のタグが過半数以上付けられた発言を正解値=1，他を正解値=0とした．

\section{実験設定}
\subsection{パラメーター}
本実験ではパラメーターは次の通りに設定した．前処理にて用いるokapiBM25のパラメーターはk1=2, b=0.75とし，LexRankのパラメーターはn=50，threshold=0.7とした．
分散表現として用いるfastTextは次元数を100次元とし，学習データにはwikipediaダンプデータを用いた．
総合類似度の計算に用いるパラメーターはmaxTime=5400(90分)，tWeight = 0.5とし，総合類似度の閾値は0.8とした．
表5.1 に実験の設定をまとめる.
\begin{table}[htbp]
\begin{center}
  \begin{tabular}{| c | c |  c |} \hline
      & k1 &  2 \\ \cline{2-3}
    okapiBM25 & b & 0.75 \\ \cline{2-3} \hline
     & n &  50 \\ \cline{2-3}
    LexRank & threshold & 0.7 \\ \cline{2-3} \hline
     & 次元 &  10 \\ \cline{2-3}
    fastText & 学習データ & wikipediaダンプデータ \\ \cline{2-3} \hline
     \multicolumn{2}{|c|}{maxTime} & 5400 \\  \hline
     \multicolumn{2}{|c|}{tWeight} & 0.5 \\  \hline
     \multicolumn{2}{|c|}{類似度閾値} & 0.8 \\  \hline
  \end{tabular}
  \caption{パラメーターの設定}
  \label{table:par}
  \end{center}
\end{table}

\subsection{比較手法}
\subsubsection*{\circled{1} 常時通知}
最も単純かつ分かりやすい比較手法として，発言の内容に関係なく常に通知を行う手法を用いる．
\subsubsection*{\circled{2} TF-IDFベクトル}
単語の意味は考慮せず出現頻度に基づく比較手法として，分散表現の代わりにTF-IDFで発言をベクトル化する手法を用いる．\textbf{Algorithm\ref{algo:combinedWeight}}の\ref{algo:combinedWight:bm25}行目でokapiBM25の代わりにTF-IDFを用いて連想配列を求め，重みのベクトルに変換する．発言内容の類似度計算は提案手法と同じでCosine類似度を用い，以降も同じである．
\subsection{評価指標}
本実験では評価指標として適合率(Precision)，再現率(Recall)，F値(F-measure)の３種類の指標を用いる．\\
適合率，再現率，F値はそれぞれ次のようにして求める．まず，発言の通知を行うと判定した時を予測値=1，通知を行わないと判定した時を予測値=0とおく．次に，予測値=1かつ正解値=1であるものの個数を$hits$(的中数)，予測値=0かつ正解値=1であるものの個数を$misses$(見逃し数)，予測値=1かつ正解値=0であるものの個数を$falseAlarms$(誤警報数)として数える．そして，式\ref{eq:Precision}，式\ref{eq:Recall}及び式\ref{eq:F-measure}に従って適合率，再現率，F値を計算する．
\begin{equation}
\begin{aligned}
\label{eq:Precision}
Precision & = \frac{hits}{hits+falseAlarms}
\end{aligned}
\end{equation}
%
\begin{equation}
\begin{aligned}
\label{eq:Recall}
Recall & = \frac{hits}{hits+misses}
\end{aligned}
\end{equation}
%
\begin{equation}
\begin{aligned}
\label{eq:F-measure}
F-measure & = \frac{2 \cdot Precision \cdot Recall}{Precision+Recall}
\end{aligned}
\end{equation}

３つの値はどれも値が高いほど判定精度が高いことを示す．

\section{実験結果}
実験結果を表\ref{table:result}に示す．
\begin{table}[htb]
\begin{center}
  \begin{tabular}{| c | c | c | c |} \hline
    手法 & \multicolumn{3}{| c |}{平均評価指標} \\ \cline{2-4}
     & Pre & Rec & F \\ \hline \hline
    比較手法1 &0.3 & 0.5  & 0.4 \\ \hline
    比較手法2 &0.3 & 0.5  & 0.4 \\ \hline
    比較手法3 &0.3 & 0.5  & 0.4 \\ \hline
    \end{tabular}
    \caption{実験結果}
    \label{table:result}
\end{center}
\end{table}

\section{結言}
\label{exp:conclusion}
本章では本研究で提案する話題変化の判定手法が有用であることを実験により確認した．COLLAGREEにて行われた議論データに対して基準を満たすと思われるものにタグを付けてもらい評価データとした．評価実験では発言の内容に関係なく常に通知する手法と分散表現の代わりにTF-IDFを用いて発言をベクトル化する手法を比較手法として用いた．

実験の結果，提案手法は適合率と再現率の両方でバランス良く高い結果を示すことが分かり，比較手法よりも良い結果を出すことがわかった．

 %-------------------------------------------------------------------------------
 \expandafter\ifx\csname MasterFile\endcsname\relax
	\def\BibFile{hoge}
	\input{../Bibliography/chapter}
  \fi
  %-------------------------------------------------------------------------------
  \expandafter\ifx\csname MasterFile\endcsname\relax
\end{document}
\fi
